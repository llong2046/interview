# AI Agent 面试核心要点

### 一、 AI Agent 核心概念

*   **AI Agent (智能体)**
    *   **定义**: 一个具备**自主感知、规划、执行、反思**能力的智能系统，其核心是大型语言模型（LLM）。
    *   **核心思想**: 模拟人类的认知和工作流。它不是一次性生成答案，而是通过“规划 → 执行 → 反思”的闭环来迭代完成复杂任务。
    *   **关键能力**:
        1.  **规划 (Planning)**: 将复杂任务拆解为可执行的子步骤。
        2.  **工具使用 (Tool Use)**: 调用外部API、数据库、搜索引擎等来获取信息或执行操作。
        3.  **反思 (Reflection)**: 自我检查和修正，评估任务进度和结果，进行迭代优化。
        4.  **记忆 (Memory)**: 具备短期和长期记忆，以维持上下文和学习经验。

*   **AI Agent vs. AI Workflow**
    *   **AI Workflow**: 一个**预先定义好**的、自动化的任务流程，像工厂的流水线，决策逻辑在设计阶段就已固化。
    *   **AI Agent**: 一个能**在运行时自主决策**的智能实体，像一个有思考能力的“员工”，可以根据情况动态调整计划。
    *   **核心区别**: **决策权**。Workflow按部就班，Agent随机应变。

*   **当前局限性**
    *   **幻觉问题**: 核心LLM可能生成不准确或虚构的信息。
    *   **规划能力有限**: 受限于上下文窗口，难以进行真正的长期、复杂任务规划。
    *   **行业适配困难**: 通用Agent难以满足金融、医疗等高精度、零容错场景的需求。
    *   **成本高**: 推理过程消耗大量计算资源。

```
助记关键词: 自主决策, 认知闭环, 动态 vs. 静态
助记/类比:
AI Agent: 一个聪明的项目经理，你告诉他目标，他自己会拆解任务、找人（工具）、开会、复盘，直到项目完成。
AI Workflow: 一条设定好的工厂流水线，只能按照固定的工序生产，无法处理意外情况。
Agent vs. Workflow: Agent是“自动驾驶”，Workflow是“定速巡航”。
```

### 二、 主流设计模式与架构

*   **ReAct 模式 (Reason + Act)**
    *   **定义**: 结合了**推理 (Reason)** 和 **行动 (Act)** 的核心框架，是目前最强大的模式之一。
    *   **工作流程**: 模型交错地进行“思考 → 行动 → 观察”的循环。
        1.  **思考 (Reason)**: LLM分析问题，决定下一步该做什么。
        2.  **行动 (Act)**: 根据思考结果，调用一个外部工具。
        3.  **观察 (Observe)**: 获取工具返回的结果，作为下一步思考的依据。

*   **规划模式 (Planning Pattern)**
    *   **定义**: ReAct模式的升级，在执行前先进行**宏观的任务规划和拆解**。
    *   **工作流程**: 接收复杂任务 → 制定多步计划 → 对每个子任务执行ReAct模式。

*   **多智能体协作 (Multi-agent Collaboration)**
    *   **定义**: 将一个复杂任务分配给多个具有不同角色和专长的Agent，它们协同工作完成目标。
    *   **工作流程**: 一个“总管Agent”接收任务，然后将子任务（如“数据分析”、“报告撰写”、“代码实现”）分包给专门的“专家Agent”。

*   **长期记忆架构**
    *   **问题**: LLM的上下文窗口有限，无法实现真正的长期记忆。
    *   **解决方案**: 采用“分层存储 + 智能检索”架构。
        1.  **短期记忆**: 利用模型的上下文窗口。
        2.  **长期记忆**: 将对话历史、关键信息通过**Embedding**向量化后存入**向量数据库**。需要时，通过语义搜索“回忆”起相关信息，并注入到当前Prompt中。

```
助记关键词: 思考+行动, 制定计划, 团队合作, 外部大脑
助记/类比:
ReAct模式: 一个修理工，他会先想“嗯，听声音像是引擎问题”（Reason），然后拿起扳手去检查（Act），看到结果后（Observe）再决定下一步。
规划模式: 一个总工程师，他会先把“造一座桥”这个大任务，拆解成“勘探、设计、备料、施工”等多个阶段计划，再让施工队（ReAct）去执行。
多智能体协作: 一个电影剧组，导演（总管Agent）协调编剧Agent、摄影Agent、剪辑Agent共同完成一部电影。
长期记忆: 给Agent配一个“外部大脑”（向量数据库），它会把重要的事都记在小本本上，随时可以翻阅。
```

### 三、 核心技术：工具调用与通信

*   **Function Calling (函数调用)**
    *   **定义**: Agent通过LLM理解用户意图，并决定调用哪个预定义的外部工具（API、数据库等）来完成任务的机制。
    *   **学习方式**: 通常通过**监督微调 (SFT)** 实现。用包含（用户输入，可用工具描述，期望的函数调用JSON）格式的数据集来训练模型。
    *   **工作流程**:
        1.  **意图识别与参数提取**: LLM解析用户自然语言，判断是否需要调用工具，并抽取出所需参数。
        2.  **生成调用指令**: LLM生成一个结构化（如JSON）的调用指令。
        3.  **执行与结果反馈**: 外部系统执行该指令，并将结果返回给LLM，LLM再基于结果生成最终回复。

*   **MCP (Model Context Protocol)**
    *   **定义**: 一种**标准化的接口协议**，旨在统一AI模型与外部工具/应用之间的交互方式。
    *   **目标**: 解决不同模型和工具之间接口不兼容的“孤岛”问题，让任何遵循MCP的工具都能被任何支持MCP的模型调用。

*   **A2A (Agent-to-Agent Protocol)**
    *   **定义**: AI Agent与AI Agent之间进行通信和协作的标准化协议，是Agent社会的“通用语言”或“社会契约”。
    *   **目标**: 让不同公司、不同架构的Agent能够相互理解、协同工作，形成多智能体生态系统。

```
助记关键词: 微调学习, 标准化接口, Agent社交
助记/类比:
Function Calling: 你教会了你的智能助理（LLM）如何使用你的手机App（外部工具）。
MCP: 就像USB-C接口，它定义了一个标准，让所有充电器和设备都能通用，而不用为每个设备配一个专门的充电器。
A2A: 就像人类之间用“普通话”交流一样，它让来自不同国家（不同公司）的Agent能够互相沟通、协同任务。
```
